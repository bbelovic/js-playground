<html>
    <head>
        <meta charset="utf-8">
        <title>AJAX experiments</title>
    </head>
    <body>
        <h1>AJAX experiments</h1>
        <form>
            <label for="choose-verse">
                <select id="choose-verse" name="choose-verse">
                    <option>Verse 1</option>
                    <option>Verse 2</option>
                </select>
            </label>
        </form>
        <pre>

        </pre>
    </body>
    <script>
        var pre = document.querySelector('pre')
        function update(verseText) {
            verseText = verseText.replace(" ", "")
            verseText = verseText.toLowerCase()
            var request = new XMLHttpRequest()
            request.open('GET', verseText + '.txt')
            request.responseType = 'text'
            request.onload = function () {
                pre.textContent = request.response
            }
            request.send()
        }

        var select = document.querySelector('select')
        select.onchange = function () {
            var selectedOption = select.value
            update(selectedOption)
        }
        update('Verse 1')
        select.value = 'Verse 1'
    </script>
</html>